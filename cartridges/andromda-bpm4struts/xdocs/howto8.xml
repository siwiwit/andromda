<?xml version="1.0" encoding="iso-8859-1"?>

<document>

    <properties>
        <author email="draftdog@users.sourceforge.net">Wouter Zoons</author>
        <title>AndroMDA - Bpm4Struts - HowTo (8)</title>
    </properties>

    <body>
        <section name="Tables">
            <p>
                It's possible to have the cartridge render tables for you from certain parameter
                modeled in UML. These tables are using the <a href="http://www.displaytag.org/">displaytag</a>
                tag-library behind the scenes.
            </p>
            <p>
                In order to have these tables rendered for you you will need to model a
                <a href="howto2.html#Page_Variables">page variable</a> of type <code>java.util.Collection</code>
                (or a type from the JDK that extends/implements this interface), next you will simply need
                to model a single tagged value onto that parameter.
            </p>
<source><![CDATA[
@andromda.struts.view.table.columns=property1,property2,...,propertyN
]]></source>
            <p>
                Just make sure that each property listed has corresponding accessor methods for each element
                in the collection parameter. This requirement cannot be checked during development so failing
                to conform to it will result in a runtime error.
            </p>
            <p>
                <img src="resources/howto/org/andromda/test/table-uml.jpg"/>
            </p>
            <subsection name="Hyperlinks">
                <p>
                    It's very common that users want to click on a row in the table and continue to the next page,
                    possibly showing the item in more detail. It's possible to have this feature generated by
                    associating one of the table columns to one of the exiting actions on the same page.
                </p>
                <p>
                    In order to model this correctly you basically need to model a regular action with parameters,
                    as you have seen <a href="howto2.html#Action_Parameters">here</a>. Next it is sufficient to add
                    a tagged value to one of the parameters and have it point to the desired table
                    (since there can be more than one). What will happen is that the action will be rendered into
                    each row of the table, the selected column depends on the name of the action parameter
                    but this can be overriden, as you will see in the next paragraph.
                    Any remaining action parameters will be included in the request query.
                </p>
                <p>
                    Use the <code>@andromda.struts.view.field.tablelink</code> tagged value, specify the name of the
                    table page variable followed by a dot and the name of the column, this action parameter will
                    assume it's value. If you do not specify the dot and the column name the name name of the action
                    parameter will be assumed. Here's an example:
                </p>
<source><![CDATA[
@andromda.struts.view.field.tablelink=itemList.id
]]></source>
                <p>
                    If the parameter on which this tag is modeled is called 'id', then this would be perfectly
                    equivalent to:
                </p>
<source><![CDATA[
@andromda.struts.view.field.tablelink=itemList
]]></source>
                <p>
                    COMING SOON: screenshot showing tablelink
                </p>
            </subsection>
            <subsection name="Multibox">
                <p>
                    COMING SOON
                </p>
            </subsection>
            <subsection name="Widgets">
                <p>
                    COMING SOON
                </p>
            </subsection>
        </section>
    </body>
</document>
