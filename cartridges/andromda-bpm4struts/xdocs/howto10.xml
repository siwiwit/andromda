<?xml version="1.0" encoding="iso-8859-1"?>

<document>

    <properties>
        <author email="draftdog@users.sourceforge.net">Wouter Zoons</author>
        <title>AndroMDA - Bpm4Struts - HowTo - i18n</title>
    </properties>

    <body>
        <pdf href="andromda-bpm4struts-cartridge.pdf"/>
        <section name="Internationalization">
            <p>
                The bpm4struts cartridge has been designed with internationalization <em>(i18n)</em> in mind,
                a few resource bundles, dictionaries if you will, exist by default; you have the option of translating
                them to any number of languages of your choice.
            </p>
            <p>
                These resource bundles are listed below, they are output in the <code>messages</code> outlet,
                which should normally point to <code>/WEB-INF/classes</code>
            </p>
            <p>
                The proper way to create resource bundles for additional languages is to create
                a file with the same name but suffix it with locale specific codes, this is explained
                in more detail here:
                <a href="http://java.sun.com/j2se/1.5.0/docs/api/index.html">http://java.sun.com/j2se/1.5.0/docs/api/index.html</a>.
                Put this files in the same directory as the original one.
            </p>
            <subsection name="application-resources.properties">
                <p>
                    This bundle contains labels generated from names in the UML model. These labels are used for
                    input field labels, tooltips, online help text, etc...
                </p>
                <p>
                    In order to render labels from this bundle you will need to write something like this
                    (replace <code>label.key</code> by the actual properties' key):
                </p>
<source><![CDATA[
    <bean:message key="label.key"/>
]]></source>
            </subsection>
            <subsection name="custom-resources.properties">
                <p>
                    In case you would like to add your own custom messages you can use this bundle, the call
                    to render messages from this bundle you will need to use the <code>bundle</code> attribute:
                </p>
<source><![CDATA[
    <bean:message key="label.key" bundle="custom"/>
]]></source>
            </subsection>
            <subsection name="displaytag.properties">
                <p>
                    The <a href="http://displaytag.sourceforge.net/">displaytag</a> library is used for the
                    displaying of tables, the paging and sorting features use words that might need
                    internationalization. A default properties file is generated, containing all possible messages.
                </p>
                <p>
                    You won't need to call the messages in this bundle directly, use the <code>custom</code> bundle
                    instead.
                </p>
            </subsection>
            <subsection name="Date Formats">
                <p>
                    It is also possible to have input fields representing dates automatically formatted. Two ways to do
                    this exist: on a global level you can use the <code>defaultDateFormat</code>
                    namespace property which defaults to <code>dd/MM/yyyy</code> (go
                    <a href="http://java.sun.com/j2se/1.5.0/docs/api/index.html">here</a> to learn more about
                    possible date formats)
                    , it sets the format for all dates in the modeled application; on a field
                    level it is possible to use the <code>@andromda.struts.view.field.format</code> tagged value,
                    just make sure the parameter is a date type and it will override the global setting.
                </p>
                <p>
                    Use the <code>strict</code> keyword in front of the date format, that way the application
                    will strictly check the format, without being lenient that is.
                </p>
                <p class="highlight">
                    Use dates in combination with the <code>@andromda.struts.view.field.calendar=true</code>
                    tagged value to have a popup calendar trigger rendered next to the input field, the selected date
                    will immediately be converted into the correct format. A screenshot is shown here:
                    <a href="howto2.html">Activity Graphs</a> <em>(bottom of the page)</em>
                </p>
            </subsection>
        </section>
    </body>
</document>
