<cartridge name="ejb">
    <property name="persistence" value="ejb" />

<!-- these are the new, official stereotypes -->
    <stereotype name="Entity" />
    <stereotype name="Service" />

<!-- the outlet names -->
    <outlet name="session-beans" />
    <outlet name="entity-beans" />
    <outlet name="session-impls" />
    <outlet name="entity-impls" />

<!-- library of macros used in templates -->
    <macrolibrary name="templates/EJB.vm" />
    
<!-- the official template definitions -->
    <template
        stereotype="Entity"
        sheet="templates/EntityBean.vsl"
        outputPattern="{0}/{1}Bean.java"
        outlet="entity-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />

    <template
        stereotype="Entity"
        sheet="templates/EntityLocalIntf.vsl"
        outputPattern="{0}/{1}.java"
        outlet="entity-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />

    <template
        stereotype="Entity"
        sheet="templates/EntityHome.vsl"
        outputPattern="{0}/{1}LocalHome.java"
        outlet="entity-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />

    <template
        stereotype="Entity"
        sheet="templates/EntityBeanImpl.vsl"
        outputPattern="{0}/{1}BeanImpl.java"
        outlet="entity-impls"
        overWrite="false"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />

<!--
     The following definitions map services to session beans.
     The templates map a service to a session bean
     and the template itself decides to generate a stateless or stateful
     session bean, based on the fact that the UML class contains attributes or not.
     (Matthias Bohlen)
-->
    <template
        stereotype="Service"
        sheet="templates/SessionBean.vsl"
        outputPattern="{0}/{1}Bean.java"
        outlet="session-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />

    <template
        stereotype="Service"
        sheet="templates/SessionLocalIntf.vsl"
        outputPattern="{0}/{1}Local.java"
        outlet="session-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
        generateEmptyFiles="false"
    />

    <template
        stereotype="Service"
        sheet="templates/SessionRemoteIntf.vsl"
        outputPattern="{0}/{1}.java"
        outlet="session-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
        generateEmptyFiles="false"
    />

    <template
        stereotype="Service"
        sheet="templates/SessionLocalHome.vsl"
        outputPattern="{0}/{1}LocalHome.java"
        outlet="session-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
        generateEmptyFiles="false"
    />

    <template
        stereotype="Service"
        sheet="templates/SessionRemoteHome.vsl"
        outputPattern="{0}/{1}Home.java"
        outlet="session-beans"
        overWrite="true"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
        generateEmptyFiles="false"
    />

    <template
        stereotype="Service"
        sheet="templates/SessionBeanImpl.vsl"
        outputPattern="{0}/{1}BeanImpl.java"
        outlet="session-impls"
        overWrite="false"
        transformClass="org.andromda.cartridges.ejb.EjbScriptHelper"
    />
    
</cartridge>
