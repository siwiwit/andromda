<project default="install"
         xmlns:ant="jelly:ant"
         xmlns:maven="jelly:maven">

  	<!-- ==================================================================
  			 Installs all libraries in the local repository                                                    
  		 ================================================================== -->
  	<goal name="install">
		<attainGoal name="multiproject:install"/>	
  	</goal> 
  	
  	<!-- ==================================================================
  			 Clean                                                     
  		 ================================================================== -->
  	<goal name="clean">  		
		<attainGoal name="multiproject:clean"/>
		<!-- get rid of all the log files -->
		<ant:delete>
			<ant:fileset dir=".">
				<ant:include name="**/*.log*"/>
				<ant:exclude name="maven.log"/>
			</ant:fileset>
		</ant:delete>
  	</goal> 
  	
   	<!-- ==================================================================
			Deploy/Undeploy the EJB Application                                                  
  		 ================================================================== -->  		 
	<goal name="deploy-ejb-app">
		<maven:maven
			descriptor="${basedir}/app/ejb/project.xml"
			goals="deploy"/>
	</goal>
	
	<goal name="undeploy-ejb-app">
		<maven:maven
			descriptor="${basedir}/app/ejb/project.xml"
			goals="undeploy"/>
	</goal>
	
   	<!-- ==================================================================
			Deploy the Hibernate Application                                                  
  		 ================================================================== -->   
	<goal name="deploy-hibernate-app">
		<maven:maven
			descriptor="${basedir}/app/hibernate/project.xml"
			goals="deploy"/>
	</goal>
	
	<goal name="undeploy-hibernate-app">
		<maven:maven
			descriptor="${basedir}/app/hibernate/project.xml"
			goals="undeploy"/>
	</goal>  		 	  	
</project>
