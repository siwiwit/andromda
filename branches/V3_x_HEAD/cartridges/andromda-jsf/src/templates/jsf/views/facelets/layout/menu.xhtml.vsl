<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:t="http://myfaces.apache.org/tomahawk">
      
<ui:composition>
<h:panelGrid columns="1" width="100%">
    <t:jscookMenu layout="${menuLayout}" theme="#{${preferencesBeanName}.menuTheme}" >
#set ($sidebarLayoutCount = $useCases.size() + 1)
#foreach ($useCase in $useCases)
        <t:navigationMenuItem id="nav_${velocityCount}" itemLabel="#{messages['$useCase.titleKey']}" action="$useCase.forwardName" icon="/images/next-yellow.gif" />
#end
#if ($enablePreferences)
        <t:navigationMenuItem id="nav_${sidebarLayoutCount}" itemLabel="#{messages['menu.preferences']}" split="true" action="preferences" icon="/images/next-yellow.gif" />
#end
    </t:jscookMenu>
#if ($stringUtils.isNotBlank($securityRealm))
    <h:panelGrid columns="3" styleClass="logoutPanel" width="100%">
        <c:set var="remoteUser" value="${facesContext.externalContext.request.remoteUser}" scope="request"/>
        <c:if test="${!empty remoteUser}">
            <h:panelGrid columns="1" style="text-align:right" width="100%">
                <span class="logoutPanel"><em>#{remoteUser}</em></span>
            </h:panelGrid>
            <h:outputText value="~"/>
            <h:panelGrid columns="1" style="text-align:left" width="100%">
                <h:form>
                    <h:commandLink action="logout" styleClass="logout">
                        <h:outputText value="#{messages['logout.action']}" style="text-align:left"/>            
                    </h:commandLink> 
                </h:form>
            </h:panelGrid>   
        </c:if>
    </h:panelGrid>
#end
</h:panelGrid>
</ui:composition>

</html>