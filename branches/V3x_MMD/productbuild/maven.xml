<project default="install"
         xmlns:texen="texen"
         xmlns:maven="jelly:maven"
         xmlns:j="jelly:core"
         xmlns:ant="jelly:ant">

  	<!-- ==================================================================
  			 Installs all libraries in the local repository                                                    
  		 ================================================================== -->
  	<goal name="install">
 		<j:set 
 			var="maven.multiproject.includes" 
 			value="**/project.xml"/>
 		<j:set 
 			var="maven.multiproject.excludes" 
 			value="${multiproject.build.excludes}"/>
		<attainGoal name="multiproject:install"/>	
  	</goal> 
 
  	<!-- ==================================================================
  			 Installs all libraries in the remote repository                                                    
  		 ================================================================== --> 	
  	<goal name="deploy">
 		<j:set 
 			var="maven.multiproject.includes" 
 			value="**/project.xml"/>
 		<j:set 
 			var="maven.multiproject.excludes" 
 			value="${multiproject.build.excludes}"/>
		<attainGoal name="multiproject:deploy"/>	  		
  	</goal>
  	
  	<!-- ==================================================================
  			 Clean                                                     
  		 ================================================================== -->
  	<goal name="clean">  		
 		<j:set 
 			var="maven.multiproject.includes" 
 			value="**/project.xml"/>
 		<j:set 
 			var="maven.multiproject.excludes" 
 			value="project.xml,**/target/**"/>
		<attainGoal name="multiproject:clean"/>
		<attainGoal name="clean:clean"/>
		<!-- get rid of all the log files -->
		<ant:delete>
			<ant:fileset dir=".">
				<ant:include name="**/*.log*"/>
				<ant:exclude name="maven.log"/>
			</ant:fileset>
		</ant:delete>
  	</goal> 
  	
  	<!-- =================================================================
  	         Install all bootstrap artifacts to the local repository
  	     ================================================================= -->
  	<goal name="bootstrap-install">
 		<maven:reactor
     		basedir="${basedir}"
      		includes="${bootstrap.modules}"
      		goals="andromda:bootstrap-install"
      		ignoreFailures="false"/>  	  	    
  	</goal>
  	
  	<!-- =================================================================
  	         Deploys all bootstrap artifacts to the remote repository
  	     ================================================================= -->
  	<goal name="boostrap-deploy">
 		<maven:reactor
     		basedir="${basedir}"
      		includes="${bootstrap.modules}"
      		goals="andromda:bootstrap-deploy"
      		ignoreFailures="false"/>  	  	    
  	</goal>
    	
</project>
