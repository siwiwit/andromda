<?xml version="1.0" encoding="UTF-8"?>

<document>
      <properties>
        <title>Spring Cartridge Modeling</title>
      </properties>
      <body>
        <section name="Spring Cartridge Modeling">
            <p>
                The page describes the modeling standards one must follow to in order
                to use the Spring Cartridge.
            </p>
            <subsection name="Supported Stereotypes">
                <table>
                    <tr>
                        <th>Stereotype</th>
                        <th nowrap="nowrap">Model Element</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                      <a name="Entity"/>
                        <td>
                            <strong><![CDATA[<<Entity>>]]></strong>
                        </td>
                        <td>
                            Classifier
                        </td>
                        <td>
                            Produces Hibernate entities (interfaces and classes)
                          and Spring Data Access Objects.
                        </td>
                    </tr>
                    <tr>
                        <a name="Service"/>
                        <td>
                            <strong><![CDATA[<<Service>>]]></strong>
                        </td>
                        <td>
                            Classifier
                        </td>
                        <td>
                            Creates POJO service facades (and optionally
                            Session EJB facades).
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a name="Enumeration"/>
                            <strong><![CDATA[<<Enumeration>>]]></strong>
                        </td>
                        <td>
                            Classifier
                        </td>
                        <td>
                            Indicates that the class will be a persistent type-safe enumeration, implemented by means
                            of a Hibernate UserType.  Any attribute modeled on this entity will result in an enumeration
                            literal. You may assign an <code>initial value</code> to such an attribute, Hibernate will persist
                            that specified value for the corresponding literal. If no such value is specified the name
                            of the attribute is assumed. Make sure there are no naming collisions between the
                            initial values and the attribute names you model. <i>Please note: these enumerations
                            use a <code>String</code> in order to persist their unique value.</i>
                        </td>
                    </tr>
                    <tr>
                          <td>
                            <a name="FinderMethod"/>
                              <strong><![CDATA[<<FinderMethod>>]]></strong>
                          </td>
                          <td>
                              Operation
                          </td>
                          <td>
                              Identifies an <strong>entity</strong> operation as a finder method.
                            Finder method queries can be defined as an OCL body
                            expression using the <a href="../andromda-query-library/index.html">
                            AndroMDA Query Library</a> or directly as Hibernate QL using the
                            <a href="#@andromda.hibernate.query">@andromda.hibernate.query</a> tagged value.
                            <strong>NOTE:</strong> finders can always be overriden at the DAO level as well.
                          </td>
                    </tr>
		        	<tr>
			          	<td>
							<a name="PrimaryKey"/>
			          		<strong><![CDATA[<<PrimaryKey>>]]></strong>
			          	</td>
						<td>
							Attribute
						</td>
			          	<td>
			          		Identifies an attribute as an indentifier.
			          	</td>
					</tr> 
                    <tr>
                          <td>
                            <a name="Unique"/>
                              <strong><![CDATA[<<Unique>>]]></strong>
                          </td>
                        <td>
                            Attribute
                        </td>
                          <td>
                              Identifies an attribute as unique.
                          </td>
                    </tr>
                    <tr>
                        <a name="Nullable"/>
                          <td>
                              <strong><![CDATA[<<Nullable>>]]></strong>
                          </td>
                        <td>
                            Parameter
                        </td>
                          <td>
                              Allows you to define whether or not service operation parameters can be <code>null</code>.
                            By default all service operation parameters are checked for null, if you want
                            a parameter to allow nulls, you'd add this stereotype to the parameter.
                          </td>
                    </tr>
                    <tr>
                        <a name="Role"/>
                          <td>
                              <strong><![CDATA[<<Role>>]]></strong>
                          </td>
                        <td>
                            Actor
                        </td>
                          <td>
                              Defines a role providing access to a given service or service operation.
                            To designate that the role has access to a service you must draw a dependeny
                            from the role to the service, to designate the role has access to to a given operation,
                            you must draw a dependeny from the role to the operation.
                          </td>
                    </tr>
                </table>
            </subsection>
            <subsection name="Supported Tagged Values">
                  <table>
                    <tr>
                          <th>Tagged Value</th>
                        <th>Used With</th>
                          <th>Description</th>
                    </tr>
                    <tr>
                        <td>
                            @andromda.persistence.table
                        </td>
                        <td>
                            <a href="#Entity"><![CDATA[<<Entity>>]]></a> or 
                            a many-to many association.
                        </td>
                        <td>
                            Defines the relational table name for entity persistence.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @andromda.persistence.column
                        </td>
                        <td>
                            Attribute
                        </td>
                        <td>
                            Represents the column name for entity persistence.
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @andromda.persistence.column.length
                        </td>
                        <td>
                            Attribute
                        </td>
                        <td>
                            Represents the column length for entity persistence.
                        </td>
                    </tr>
                    <tr>
                        <a name="@andromda.persistence.column.index"/>
                          <td>
                              @andromda.persistence.column.index
                          </td>
                        <td>
                            Attribute
                        </td>
                          <td>
                              The name of an index to create on an entity attribute/column.
                          </td>
                    </tr>
                    <tr>
                        <a name="@andromda.persistence.foreign.identifier"/>
                        <td>
                            @andromda.persistence.foreign.identifier
                        </td>
                        <td>
                            AssociationEnd connecting two entities
                        </td>
                        <td>
                            Indicates whether or not the entity should use 
                            the identifier of the foreign entity.  This has
                            the same effect as if you set <em>@andromda.hibernate.generator.class</em> 
                            to <em>foreign</em>. 
                            <strong>NOTE:</strong>
                            that this can only be applied to the child end of a 
                            parent-child (one end is marked as composition) 
                            one-to-one association.
                        </td>
                    </tr>
                    <tr>
                        <a name="@andromda.hibernate.query"/>
                          <td>
                              @andromda.hibernate.query
                          </td>
                        <td>
                            <a href="#FinderMethod"><![CDATA[<<FinderMethod>>]]></a>
                        </td>
                          <td>
                              Defines a hibernate query expression.  Note that you
                            can model your finder method body in OCL as well
                            (to keep your model more PIM like).
                          </td>
                    </tr>
                    <tr>
                        <a name="@andromda.hibernate.generator.class"/>
                        <td>
                            @andromda.hibernate.generator.class
                        </td>
                        <td>
                            <a href="#Entity"><![CDATA[<<Entity>>]]></a>
                        </td>
                        <td>
                            Used to define the generator class used for the hibernate entity.
                            Any of the hibernate generator classes may be used.  
                            <ul>
                                The possible options are:
                                <li>increment</li>
                                <li>identity</li>
                                <li>sequence</li>
                                <li>hilo</li>
                                <li>seqhilo</li>
                                <li>uuid.hex</li>
                                <li>uuid.string</li>
                                <li>native</li>
                                <li>assigned</li>
                                <li>foreign</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <a name="@andromda.hibernate.lazy"/>
                        <td>
                            @andromda.hibernate.lazy
                        </td>
                        <td>
                            Association ends between <a href="#Entity"><![CDATA[<<Entity>>]]></a> classes
                        </td>
                        <td>
                            Used to denote how a relationship must be loaded: <code>true</code> for <code>lazy</code>,
                            <code>false</code> for <code>eager</code>. Defaults to <code>false</code> for composite
                            relationships and defaults to <code>true</code> for the other kinds.
                        </td>
                    </tr>
					<tr>
						<a name="@andromda.hibernate.outerjoin"/>
			          	<td>
			          		@andromda.hibernate.outerjoin
			          	</td>
						<td>
							Association ends between <a href="#Entity"><![CDATA[<<Entity>>]]></a> classes
						</td>
			          	<td>
			          		Defines if Hibernate will use a outer join for fetching the given assocation end. 
			          		<ul>
                                Permited values are:
								<li>auto</li>
								<li>true</li>
								<li>false</li>
							</ul>
			          	</td>
					</tr>
                    <tr>
                        <a name="@andromda.role.name"/>
                          <td>
                              @andromda.role.name
                          </td>
                        <td>
                            <a href="#Role"><![CDATA[<<Role>>]]></a>
                        </td>
                          <td>
                              Optionally allows you to define the name of the role (if it needs
                            to be different than the name of the actor that defines the role).
                          </td>
                    </tr>
                </table>
            </subsection>
            <subsection name="Additional Remarks">
                <p>
                    Dependencies can be used between Services and Entities, they
                    won't need any stereotype assigned to them. These dependencies
                    are used to produce entity references (from a entity or service)
                    in the Spring applicationContext.xml and within
                    the Spring base classes (i.e. DaoBase and ServiceBase),
                    or to produce service references (from another service)
                    in the Spring applicationContext.xml and within
                    the ServiceBase classes.
                </p>
                <p>
                    Entity business operations can be set to <code>classifier</code> scope
                    instead of the usual <code>instance</code> scope. By doing so they
                    will be generated into the corresponding DAO for that entity instead
                    of the entity implementation class.
                </p>
                <p>
                    Entity query operations (i.e. finders) can be denoted by setting the
                    query flag on the modeled operation to true 
                    (they do not require any stereotypes).
                </p>
            </subsection>
        </section>
      </body>
</document>