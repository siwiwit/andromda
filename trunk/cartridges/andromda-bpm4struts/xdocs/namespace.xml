<?xml version="1.0" encoding="UTF-8"?>

<document>
    <properties>
        <title>Bpm4Struts Cartridge Namespace</title>
    </properties>
    <body>
        <section name="Bpm4Struts Cartridge Namespace Properties">
            <p>
                In addition to the applicable
                <a href="../andromda-metafacades-uml/namespace.html">UML Metafacade</a> namespace
                properties which may also be used, this page describes 
                namespace properties specific to this cartridge only.
            </p>
            <table>
                <tr>
                    <th>Property</th>
                    <th>Description</th>
                    <th>Required</th>
                </tr>
                <tr>
                    <td>actions</td>
                    <td>The location to which Struts actions are generated.</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>forms</td>
                    <td>The location to which Struts action forms are generated.</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>configuration</td>
                    <td>
                        The location to which Struts configuration files are generated. These are the files
                        that typically appear in WEB-INF, such as validation-rules.xml and tiles-defs.xml.
                    </td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>controllers</td>
                    <td>The location to which abstract controllers are generated.</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>controller-impls</td>
                    <td>The location to which the controller implementation classes are generated.</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>messages</td>
                    <td>The location to which message resource bundles are generated.</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>pages</td>
                    <td>application JSP pages, login pages and stylesheets are outputted here</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>server</td>
                    <td>
                        The location where to store application server specific configuration, such as users.properties
                        and roles.properties (in case security has been enabled)
                    </td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>decorators</td>
                    <td>
                        The location where the displaytag table decorators will be generated (if any).
                        Files generated into this outlet will not be overwritten upon regeneration, they
                        are meant to be edited by hand.
                    </td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>generateTableDecorators</td>
                    <td>
                        Whether or not to generate decorators for all tables.
                    </td>
                    <td>No, default is <code>false</code></td>
                </tr>
                <tr>
                    <td>tableDecoratorSuffix</td>
                    <td>
                        The string to append to table decorator class names.
                    </td>
                    <td>No, default is <code>Decorator</code></td>
                </tr>
                <tr>
                    <td>clientValidation</td>
                    <td>true/false, denotes if the client should validate user input.</td>
                    <td>
                        No, default is
                        <code>true</code>.
                    </td>
                </tr>
                <tr>
                    <td>serverValidation</td>
                    <td>true/false, denotes if the server should validate user input.</td>
                    <td>
                        No, default is
                        <code>true</code>.
                    </td>
                </tr>
                <tr>
                    <td>security</td>
                    <td>Whether or not to render code enabling the security features (true/false)</td>
                    <td>No, default is
                        <code>false</code>
                    </td>
                </tr>
                <tr>
                    <td>securityRealm</td>
                    <td>The security realm to use when security is enabled.</td>
                    <td>
                        No, default is
                        <code>other</code>.
                    </td>
                </tr>
                <tr>
                    <td>welcomeFileName</td>
                    <td>The name of the JSP that is the welcome file.</td>
                    <td>
                        No, default is
                        <code>index.jsp</code>.
                    </td>
                </tr>
                <tr>
                    <td>xhtml</td>
                    <td>true/false on whether or not xhtml should be rendered (instead of just normal html).</td>
                    <td>
                        No, default is
                        <code>false</code>.
                    </td>
                </tr>
                <tr>
                    <td>dummyData</td>
                    <td>true/false, denotes whether or not to render dummy data in things like controllers.</td>
                    <td>
                        No, default is
                        <code>true</code>.
                    </td>
                </tr>
                <tr>
                    <td>hints</td>
                    <td>
                        True/false on whether or not hints should be rendered in the generated
                        JSP pages.
                    </td>
                    <td>
                        No, default is <code>true</code>.
                    </td>
                </tr>
                <tr>
                    <td>maxBreadCrumbs</td>
                    <td>
                        An integer denoting the maximum number of breadcrumbs to appear on a
                        page, specify zero to disable breadcrumbs
                    </td>
                    <td>
                        No, default is
                        <code>5</code>.
                    </td>
                </tr>
                <tr>
                    <td>onlineHelp</td>
                    <td>true/false, denotes whether or not to render online help pages.</td>
                    <td>
                        No, default is
                        <code>true</code>.
                    </td>
                </tr>
                <tr>
                    <td>defaultDateFormat</td>
                    <td>
                        The default date format to use in case it has not been explicitely
                        specified, for example for event parameters of type Date.
                        Take a look
                        <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html">here</a>
                        to see how to properly construct date formats.
                    </td>
                    <td>
                        No, default is
                        <code>dd/MM/yyyy</code>.
                    </td>
                </tr>
                <tr>
                    <td>normalizeMessages</td>
                    <td>
                        Denotes the way application resource messages ought to be generated.
                        When messages are normalized it means that elements with the same name
                        will reuse the same label, even if they are located in entirely different
                        use-cases or pages.
                        This results in resource bundles that are not only smaller in size but
                        also more straightforward to translate. The downside is that it will be
                        less evident to customize labels for certain fields (which is rarely the
                        case anyway).
                        For backward compatibility reasons this flag is disabled by default.
                    </td>
                    <td>
                        No, default is <code>false</code>.
                    </td>
                </tr>
                <tr>
                    <td>errorMessagesKey</td>
                    <td>
                        The property used to identify error messages, all messages are stored in the default
                        location for message used with Struts (in session scope, under Globals.MESSAGE_KEY), but
                        this property distinguishes those mesage from the other ones. You would only need to change
                        this value when you have messages already stored with this property and you want to avoid
                        conflicts.
                    </td>
                    <td>
                        No, default is <code>org.andromda.bpm4struts.errormessages</code>.
                    </td>
                </tr>
                <tr>
                    <td>warningMessagesKey</td>
                    <td>
                        The property used to identify warning messages, all messages are stored in the default
                        location for message used with Struts (in session scope, under Globals.MESSAGE_KEY), but
                        this property distinguishes those mesage from the other ones. You would only need to change
                        this value when you have messages already stored with this property and you want to avoid
                        conflicts.
                    </td>
                    <td>
                        No, default is
                        <code>org.andromda.bpm4struts.warningmessages</code>.
                    </td>
                </tr>
                <tr>
                    <td>successMessagesKey</td>
                    <td>
                        The property used to identify success messages, all messages are stored in the default
                        location for message used with Struts (in session scope, under Globals.MESSAGE_KEY), but
                        this property distinguishes those mesage from the other ones. You would only need to change
                        this value when you have messages already stored with this property and you want to avoid
                        conflicts.
                    </td>
                    <td>
                        No, default is
                        <code>org.andromda.bpm4struts.successmessages</code>.
                    </td>
                </tr>
                <tr>
                    <td>defaultActionRedirect</td>
                    <td>
                        True/false on whether or not redirection should occur on all action forwards.
                    </td>
                    <td>
                        No, default is <code>false</code>.
                    </td>
                </tr>
                <tr>
                    <td>actionPathPrefix</td>
                    <td>
                        The pattern to use when rendering the action paths in <code>struts-config.xml</code>, use
                        {0} for the package, <code>/${use-case}/${action}</code> is always appended.
                        For use-case <code>"org.andromda.test.My UseCase"</code> the
                        <code>"login"</code> action could be rendered using <code>/abc/{0}</code> which would
                        result in <code>/abc/org/andromda/test/MyUseCase/Login</code>. Make sure to start the prefix
                        using a forward slash character.
                    </td>
                    <td>
                        No, by default there is no prefix.
                    </td>
                </tr>
                <tr>
                    <td>exceptionHandlerPattern</td>
                    <td>
                        Used to define the pattern used for retrieving message resource keys
                        from exceptions.  This is useful when exceptions are thrown from the business
                        tier and you want to map these to messages in your presentation. 
                        Normally you won't need to change this pattern, however you may want to 
                        if you want to enable it to handle exceptions you may have no control over 
                        (i.e. SQLExceptions).  Currently the default pattern supports an exception with 
                        an embedded <em>{some.resource.key}</em> type key.
                    </td>
                    <td>
                        No, default is <code>(.*)(\\{\\s*([\\w|\\.+]*)\\s*\\})(.*)</code>
                    </td>
                </tr>
                <tr>
                    <td>exceptionHandlerPackage</td>
                    <td>
                        The package to which the exception handler that retrieves exception keys will 
                        be generated.
                    </td>
                    <td>
                        No, default is <code>org.andromda.presentation.bpm4struts</code>.
                    </td>
                </tr>
                <tr>
                    <td>validatorPackage</td>
                    <td>
                        The package to which the validator (containing extra commons-validator
                        handlers) will be generated.
                    </td>
                    <td>
                        No, default is <code>org.andromda.presentation.bpm4struts</code>.
                    </td>
                </tr>
                <tr>
                    <td>servletPackage</td>
                    <td>
                        The package to which the custom servlet (extending the default Struts ActionServlet)
                        is generated.
                    </td>
                    <td>
                        No, default is <code>org.andromda.presentation.bpm4struts</code>.
                    </td>
                </tr>
                <tr>
                    <td>customResourcesKey</td>
                    <td>
                        The key used to store the custom message resources (the message resources seperate
                        from the standard application resources generated by this cartridge).
                    </td>
                    <td>
                        No, default is <code>custom</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        xmlEncoding
                    </td>
                    <td>
                        Encoding for xml's generated files.
                    </td>
                    <td>
                        No, default is <code>UTF-8</code>.
                    </td>
                </tr>
                <tr>
                    <td>
                        generateWebXmlIds
                    </td>
                    <td>
                        Indicates whether or not to generate <code>id</code>
                        attributes in the XMl elements of the web.xml
                        descriptor. Some application servers such as WebSphere
                        need them, other application servers such as Resin
                        can't handle them.
                    </td>
                    <td>
                        No, default is <code>false</code>.
                    </td>
                </tr>
                <tr>
                    <a name="actionFormScope"/>
                    <td>
                        actionFormScope
                    </td>
                    <td>
                        The default scope in which the action's <code>form</code>
                        attribute will be placed when the action is executing.
                        Normally it doesn't make sense to change this value
                        from the default, however you may occasionaly need to override
                        this value using the <a href="modeling.html#andromda.struts.action.form.scope">@andromda.struts.action.form.scope</a>
                        for a given action.
                        <ul>
                            The possible values are:
                            <li>none - doesn't set the form attribute in any scope</li>
                            <li>request - sets the form attribute in the request scope</li>
                            <li>session - sets the form attribute in the session scope</li>
                        </ul>
                    </td>
                    <td>
                        No, default is <code>session</code>.
                    </td>
                </tr>
                <tr>
                    <a name="formName"/>
                    <td>
                        formName
                    </td>
                    <td>
                        Defines the name of the <code>form</code> that is passed along during application execution.
                        This attribute is passed along in the session (usually, can also be request if
                        <a href="#actionFormScope">actionFormScope</a> has been changed or its corresponding tagged value
                        changed).  You'll normally never need to modify this value.
                    </td>
                    <td>
                        No, default is <code>form</code>.
                    </td>
                </tr>
                <tr>
                    <a name="manageableReferenceParameterPrefix"/>
                    <td>
                        manageableReferenceParameterPrefix
                    </td>
                    <td>
                        The prefix used for hidden form input fields when pre-filling an entity reference after
                        switching from the current entity to the next one, this property should only be changed if
                        you have form fields whose name could conflict with these extra fields. The default value
                        has been chosen to avoid any possible naming conflicts with the generated code for
                        manageables (CRUD), but we provide this property nevertheless, just in case you would like
                        to override the templates or something.
                    </td>
                    <td>
                        No, default is <code>ref_</code>.
                    </td>
                </tr>
            </table>
        </section>
    </body>
</document>
