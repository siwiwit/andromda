<cartridge name="hibernate">
    
    <!-- define the template objects that are made availble to the template -->
    <templateObject name="str" className="org.apache.commons.lang.StringUtils"/>
    
    <property reference="customTypesPackage" default="org.andromda.persistence.hibernate"/>
    
	<!-- externalise the hibernate ID generator class see the hibernate doc for details -->
    <property reference="idGeneratorClass" default="uuid.hex"/>

    <template
        path="templates/hibernate/HibernateEntity.vsl"
        outputPattern="{0}/{1}.java"
        outlet="entities"
        overwrite="true">
        <modelElements variable="class">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement> 
        </modelElements>  
    </template>

    <template
        path="templates/hibernate/HibernateEntityImpl.vsl"
        outputPattern="{0}/{1}Impl.java"
        outlet="entity-impls"
        overwrite="false">
        <modelElements variable="class">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement>   
        </modelElements>  
    </template>

    <template
        path="templates/hibernate/HibernateEntityFactory.vsl"
        outputPattern="{0}/{1}Factory.java"
        outlet="entities"
        overwrite="true">
        <modelElements variable="class">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement> 
        </modelElements> 
    </template>
    
    <template 
        path="templates/hibernate/HibernateByteBlobType.vsl" 
        outputPattern="$generatedFile" 
        outlet="entities" 
        overwrite="true"
        required="false"/>
    
    <template 
        path="templates/hibernate/HibernateStringClobType.vsl" 
        outputPattern="$generatedFile" 
        outlet="entities" 
        overwrite="true"
        required="false"/>

    <template
        path="templates/hibernate/HibernateSessionBean.vsl"
        outputPattern="{0}/{1}Bean.java"
        outlet="session-beans"
        overwrite="true">
        <modelElements variable="class">
            <modelElement>
                <type name="org.andromda.metafacades.uml.ServiceFacade"/>
            </modelElement> 
        </modelElements>             
    </template>

    <template
        path="templates/hibernate/HibernateSessionBeanImpl.vsl"
        outputPattern="{0}/{1}BeanImpl.java"
        outlet="session-impls"
        overwrite="false">
        <modelElements variable="class">
            <modelElement>
                <type name="org.andromda.metafacades.uml.ServiceFacade"/>
            </modelElement> 
        </modelElements>    
    </template>

</cartridge>
