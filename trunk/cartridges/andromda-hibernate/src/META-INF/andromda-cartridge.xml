<cartridge name="hibernate">

    <!-- define the template objects that are made availble to the template -->
    <templateObject name="str" className="org.apache.commons.lang.StringUtils"/>

    <property reference="customTypesPackage" default="org.andromda.persistence.hibernate"/>

    <!-- externalise the hibernate ID generator class see the hibernate doc for details -->
    <property reference="idGeneratorClass" default="uuid.hex"/>
    <property reference="tableNamePrefix" default=""/>
    <property reference="versionProperty" default=""/>
    <property reference="driver" default=""/>
    <property reference="username" default=""/>
    <property reference="password" default=""/>
    <property reference="connectionUrl" default=""/>
    <property reference="dataSource" default=""/>
    <property reference="hibernateDefaultCascade" default="none"/>
    <property reference="hibernatePoolSize" default=""/>
    <property reference="hibernateTransactionFactoryClass" default="net.sf.hibernate.transaction.JTATransactionFactory"/>
    <property reference="hibernateTransactionManagerStrategy" default=""/>
    <property reference="hibernateUserTransactionName" default="UserTransaction"/>
    <property reference="hibernateTransactionManagerStrategy" default=""/>
    <property reference="hibernateTransactionManagerLookup" default=""/>
    <property reference="hibernateUseOuterJoin" default=""/>
    <property reference="hibernateShowSql" default=""/>
    <property reference="hibernateJndiName" default="java:/hibernate/SessionFactory"/>
    <property reference="hibernateDialect" default=""/>
    <property reference="hibernateDefaultSchema" default=""/>
    <property reference="hibernateMaxFetchDepth" default=""/>
    <property reference="hibernateJdbcFetchSize" default=""/>
    <property reference="hibernateJdbcBatchSize" default=""/>
    <property reference="hibernateJdbcUseScrollableResultSet" default=""/>
    <property reference="hibernateMaxFetchDepth" default=""/>
    <property reference="hibernateJdbcUseStreamsForBinary" default=""/>

    <template
        path="templates/hibernate/HibernateEntity.vsl"
        outputPattern="{0}/{1}.java"
        outlet="entities"
        overwrite="true">
        <modelElements variable="entity">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/HibernateEntityImpl.vsl"
        outputPattern="{0}/{1}Impl.java"
        outlet="entity-impls"
        overwrite="false">
        <modelElements variable="entity">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/HibernateEntityFactory.vsl"
        outputPattern="{0}/{1}Factory.java"
        outlet="entities"
        overwrite="true">
        <modelElements variable="entity">
            <modelElement>
                <type name="org.andromda.metafacades.uml.EntityFacade"/>
            </modelElement>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/HibernateSessionBean.vsl"
        outputPattern="{0}/{1}Bean.java"
        outlet="session-beans"
        overwrite="true">
        <modelElements variable="service">
            <modelElement>
                <type name="org.andromda.metafacades.uml.ServiceFacade"/>
            </modelElement>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/HibernateSessionBeanImpl.vsl"
        outputPattern="{0}/{1}BeanImpl.java"
        outlet="session-impls"
        overwrite="false">
        <modelElements variable="service">
            <modelElement>
                <type name="org.andromda.metafacades.uml.ServiceFacade"/>
            </modelElement>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/hibernate.cfg.xml.vsl"
        outputPattern="hibernate.cfg.xml"
        outlet="configuration"
        overwrite="true"
        outputToSingleFile="true">
        <modelElements variable="entities">
            <modelElement stereotype="Entity"/>
        </modelElements>
    </template>

    <template
        path="templates/hibernate/HibernateByteBlobType.vsl"
        outputPattern="$generatedFile"
        outlet="entities"
        overwrite="true"
        required="false"/>

    <template
        path="templates/hibernate/HibernateUtils.vsl"
        outputPattern="$generatedFile"
        outlet="entities"
        overwrite="true"
        required="false"/>

    <template
        path="templates/hibernate/HibernateStringClobType.vsl"
        outputPattern="$generatedFile"
        outlet="entities"
        overwrite="true"
        required="false"/>

</cartridge>
