<project name="model-query" default="report">

   <property file="build.properties" />
   
   <target name="clean">
     <delete dir="build"/>
   </target>
   
   <target name="init">
     <mkdir dir="build/output"/>
     <mkdir dir="build/model/unzipped" />
   </target>
   
   <path id="classpath">
   	  <pathelement path="${build.classpath}"/>
   </path>

   <target name="report" depends="init">
   
   		<echo message="build.classpath =${build.classpath}" />
   		
        <taskdef name="andromda"
                 classname="org.andromda.core.anttasks.AndroMDAGenTask"
                 classpathref="classpath"/>

        <andromda basedir="."
                 genDestdir="."
                 implDestdir="."
                 modelURL="${model.url}"
                 lastModifiedCheck="false"
                 templatePath="templates"
                 useDefaultTemplateConfig="false"
                 typeMappings="${andromda.home}/src/xml/TypeMapping.xml"
        >
        	<repository
        		classname="org.andromda.core.mdr.MDRepositoryFacade"
        		transformClassname="org.andromda.core.uml14.UMLStaticHelper"/>
        				
            <template
                stereotype="StrutsConfig"
                sheet="report.vsl"
                outputPattern="Report.txt"
                outputDir="build/output"
                overWrite="true"/>

        </andromda>
        
    </target>
    
</project>