<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Add Page Variable to State Machine</title>
</head>
<body>
    <h2>Add Page Variable to State Machine</h2>
    <!------------------------- Intro Text ------------------------->
    <p>
        This page provides directions to add the <code>timecardSummaries</code> page variable
        to the <code>Search Timecards</code> state machine.
    </p>
    <!------------------------- Main Text ------------------------->
    <ol>
        <li>Right click on the transition out of <code>Search Timecards</code> and choose <em>Add UML
            > Attribute</em>. It will create an Activity as the effect of the transition.</li>
        <li>Rename it as blank - this is the only difference between modeling an
            event (coming out of a view) and a page variable (entering in a view). </li>
        <li>Right click on the newly created activity (in the model explorer) and open its properties.</li>
		<li>Click on the <em>ImportPackage</em> tab.</li>
		<li>Click on the button on the right to add a package import. Select the <code>timetracker</code> model 
			and click on <em>OK</em>.</li>
		<li>Click on the <em>Parameters</em> tab.</li>
		<li>Click on the button on the right (the one with a red circle) to add a parameter. 
            Enter <code>timecardSummaries</code> as the name of the parameter and choose <code>TimecardSummaryVO[]</code>
            as its type.</li>
        <li>Select the <code>timecardSummaries</code> parameter and apply it the <code>andromda_presentation_view_table_columns</code> stereotype.
            This tagged value tells AndroMDA to render the page variable as a table. Open the in the <em>Stereotype</em>
            tab and on the <em>...</em> button in the right of <code>andromda_presentation_view_table_columns</code>.
            Enter the following values in the dialog, by clicking on the <em>Insert new String</em> button:
            <ul>
                <li><code>id</code></li>
                <li><code>submitterName</code></li>
                <li><code>approverName</code></li>
                <li><code>status</code></li>
                <li><code>startDate</code></li>
            </ul>
            This tells AndroMDA to display 5 columns in the table corresponding to the 5 attributes
            of <code>TimecardSummaryVO</code>. Click on <em>Close</em>.
            (Note that the TimeTracker prototype does not have an <code>Id</code>
            column in the results table. However, we add it here so that the <code>id</code>
            is available to each row.)</li>
    </ol>
    <p>
        We have now added the <code>timecardSummaries</code> page variable to the <code>Search Timecards</code> state machine.
        Please go back to the main tutorial page and continue from where you left off.
    </p>
    <!------------------------- End of Text ------------------------->
</body>
</html>
